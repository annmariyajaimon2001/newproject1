private readonly EHRMSDbEntities _context;

        public InsuranceRepo(EHRMSDbEntities context)
        {
            _context = context;
        }

        public List<Insurance> ReadAll()
        {
            return _context.Insurances.ToList();
        }

        public Insurance ReadById(int insuranceId)
        {
            return _context.Insurances.FirstOrDefault(i => i.InsuranceID == insuranceId);
        }

        public void Create(Insurance insurance)
        {
            _context.Insurances.Add(insurance);
            _context.SaveChanges();
        }

        public void Update(Insurance insurance)
        {
            var existingInsurance = _context.Insurances.FirstOrDefault(i => i.InsuranceID == insurance.InsuranceID);
            if (existingInsurance != null)
            {
                existingInsurance.InsuranceProvider = insurance.InsuranceProvider;
                existingInsurance.PolicyNumber = insurance.PolicyNumber;
                existingInsurance.ExpirationDate = insurance.ExpirationDate;
                _context.SaveChanges();
            }
        }

        public void Delete(int insuranceId)
        {
            var insurance = _context.Insurances.FirstOrDefault(i => i.InsuranceID == insuranceId);
            if (insurance != null)
            {
                _context.Insurances.Remove(insurance);
                _context.SaveChanges();
            }
        }
